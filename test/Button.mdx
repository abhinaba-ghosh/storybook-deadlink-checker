import { Meta, Story } from '@storybook/addon-docs/blocks';
import { Preview } from '@storybook/addon-docs/dist/blocks';
import LinkTo from '@storybook/addon-links/react';

import Button from '../../../components/Button/Button';
import Flex from '../../../components/Flex/Flex';
import ButtonComponentProps from './ButtonComponentProps';
import Table from '../../docs-components/PropsTable';
import Banner from '../../../components/Banner/Banner';

import FullWidthButton from './assets/full-width-button.png';

import IconActionShareStroke from '../../../design-tokens/design-system-icons/icon-action-share-stroke';

# Button

Buttons are clickable items and allows the user to perform an action. For example,

-   Submit a form (Send, Sign In, Sign Up, Save)
-   Initiate a task (Edit Profile, Add User Slots, Share, Run, Resolve Conflicts, etc.)
-   Show/hide UI elements (Close, Advanced options for collection generation)

### Table of contents

-   [Import](#import)
-   [Usage](#usage)
-   [Props](#props)
-   [Examples](#examples)

### Import

```js
import { Button } from '@postman/aether';
```

### Usage

```jsx
<Button type='primary' size='medium' text='Submit' onClick={() => {}} />
```

<Story id='components-button--buttons' />

<br />

---

### Props

<Table rows={ButtonComponentProps} />
<br />

---

<br />

### Examples

#### type

The Button component consists of 5 style variants:
We can change the button type by changing the value of the `type` prop.

-   Value type: `String`
-   Default value: `secondary`
-   Possible values: `primary` | `secondary` | `tertiary` | `outline` | `destructive` | `plain` | `monochrome-plain` | `muted-plain`

Similarly, there are 3 types of Plain Buttons provided.

<Banner status='warning'>
	<Text type='body-large'>
		From Aether v0.8.0 onwards, we are deprecating the text,
		monochrome-text, muted-text as valid button types and renaming them to
		plain, monochrome-plain and muted-plain respectively.
	</Text>
</Banner>

<Preview>
	<Story id='components-button--button-types' />
</Preview>

---

#### size

Button component comes with 2 size variants:

-   Value type: `String`
-   Default value: `medium`
-   Possible values: `small` | `medium`

<Story id='components-button--button-sizes' />
<br />

---

#### text

-   Value type: `String`
-   This prop defines the text inside the button.

---

#### icon

-   Value type: `String | Node`
-   This prop adds an icon on the left side of the button-text. It also allows to display icon-only button.

<Banner status='warning'>
	<Text type='body-large'>
		icon='icon-*' syntax is deprecated and will be removed in future.
	</Text>
</Banner>

Recommended way to render icon inside the button:

```jsx
import { IconName } from '@postman/aether';

<Button icon={<IconName />} />;
```

`IconName` must be from list of Aether Icons. You can find list of available Aether Icons <LinkTo kind="components-icn-icons-library--page"> here </LinkTo>

<br />
<Banner status='success'>
	<Text type='body-large'>
		As per the design guidelines, icons can only be used with tertiary type
		buttons, so make sure you add type='tertiary' prop whenever using icons.
	</Text>
</Banner>

<br />
<Banner status='info'>
	<Text type='body-large'>
		Both text and icon cannot be empty at the same time. The component gives
		a warning if both the props are left empty.
	</Text>
</Banner>

<Preview>
	<Story id='components-button--button-with-icon' />
</Preview>

---

#### tooltip

-   Value type: `String` or `Object`
-   This prop allows to display a tooltip over the button.

You can pass the tooltip-text as a value to `tooltip` prop to display the basic text-only tooltip. For example,

```jsx
<Button
	onClick={() => {}}
	type='tertiary'
	text='Share'
	icon={<IconActionShareStroke />}
	tooltip='Share the Collection'
/>
```

<Flex padding='spacing-l' align='center' justify='center'>
	<Button
		onClick={() => {}}
		type='tertiary'
		text='Share'
		icon={<IconActionShareStroke />}
		tooltip='Share the Collection'
	/>
</Flex>

But if you want more control over the tooltip, then you can also pass <LinkTo kind="components-tooltip--tooltip-story"> Tooltip </LinkTo> component of Aether as a value
of the `tooltip` prop. Using the props of the Tooltip component, you can get better customise the tooltip behavior.

<Banner status='info'>
	<Text type='body-large'>
		In such cases, only Tooltip component from Aether is accepted as a valud
		value, and you need to explicitly import it from Aether package.
	</Text>
</Banner>

```jsx
<Button
  onClick={() => {}}
  type="tertiary"
  icon={<IconActionShareStroke/>}
  tooltip={
    <Tooltip
      content='Share the Collection',
      placement='top'
    />
  }
/>
```

-   The default value for the placement is `bottom`.
-   The possible values for the placement are: `left | top | bottom | right | auto`

<Preview>
	<Story id='components-button--button-with-tooltip' />
</Preview>

---

#### shortcutLabel

This prop allows you to display a shortcut label inside a tooltip, that is displayed when we hover over the button.

```jsx
<Button
	onClick={() => {}}
	type='tertiary'
	text='Share'
	icon={<IconActionShareStroke />}
	tooltip='Share the Collection'
	shortcutLabel='Cmd + S'
/>
```

<Flex padding='spacing-l' align='center' justify='center'>
	<Button
		onClick={() => {}}
		type='tertiary'
		text='Share'
		icon={<IconActionShareStroke />}
		tooltip='Share the Collection'
		shortcutLabel='Cmd + S'
	/>
</Flex>

#### isDisabled

-   Value type: `Boolean`
-   Default value: `false`
-   This prop makes the button disabled.

You can use the <LinkTo kind='components-button--button-with-icon#tooltip'>tooltip</LinkTo> prop mentioned above even if the Button is disabled
to conditionally show a message to inform users why the button is disabled.

```jsx
const isSignedIn = false;

<Button
	onClick={() => {}}
	type='tertiary'
	text='Share'
	icon={<IconActionShareStroke />}
	tooltip={!isSignedIn && 'Sign-in to share the collection'}
	isDisabled={!isSignedIn}
/>;
```

<Button
	onClick={() => {}}
	type='tertiary'
	text='Share'
	icon={<IconActionShareStroke />}
	tooltip={true && 'Sign-in to share the collection'}
	isDisabled
/>

#### isLoading

-   Value type: `Boolean`
-   Default value: `false`
-   This prop shows a loader whenever action is under process and makes button disabled during that time.

```jsx
<Button onClick={() => {}} type='primary' text='Submit' isLoading />
```

<Button onClick={() => {}} type='primary' text='Submit' isLoading />

## <br />

#### fullWidth

-   Value type: `String`
-   This prop expands the button to take full width of its immediate parent.
-   Only use full-width buttons in narrow columns.

<img src={FullWidthButton} width='768px' />

---

#### className

-   Value type: `String`
-   This prop allows to add a classname to the Button component.
-   Majority of the apperances and visual behaviours of the Button should be handled by the other props available.

<Flex direction='column' gap='spacing-l'>
	<Banner status='warning'>
		<Text type='body-large'>
			It is recommended to not override the styles using the className
			prop.
		</Text>
	</Banner>
	<Banner status='success'>
		<Text type='body-large'>
			You can use this prop to add classnames that are referred in the
			tests.
		</Text>
	</Banner>
</Flex>

```jsx
<Button
	type='primary'
	text='Submit'
	onClick={() => {}}
	className='custom-className'
/>
```

<LinkTo kind='get-started-contribution-guides-component-code-documentation--page'>
	Link
</LinkTo>
